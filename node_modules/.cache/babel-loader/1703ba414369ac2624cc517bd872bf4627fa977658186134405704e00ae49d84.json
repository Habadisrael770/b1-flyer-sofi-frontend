{"ast":null,"code":"import _objectSpread from\"/home/ubuntu/b1-flyer-sofi-frontend/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import React,{useState,useEffect,useCallback}from'react';import{useAuth}from'../contexts/AuthContext';import axios from'axios';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const Flyers=()=>{const[flyers,setFlyers]=useState([]);const[products,setProducts]=useState([]);const[loading,setLoading]=useState(true);const[error,setError]=useState('');const[showForm,setShowForm]=useState(false);const[editingFlyer,setEditingFlyer]=useState(null);const[selectedProducts,setSelectedProducts]=useState([]);const[formData,setFormData]=useState({title:'',description:'',template:'template1',layout:'grid',colors:{primary:'#007bff',secondary:'#28a745'},fonts:{title:'Arial',body:'Arial'}});const{user,logout}=useAuth();const API_BASE_URL=process.env.REACT_APP_API_URL||'http://localhost:3001';const getAuthHeaders=useCallback(()=>({Authorization:\"Bearer \".concat(localStorage.getItem('token'))}),[]);const fetchFlyers=useCallback(async()=>{try{const response=await axios.get(\"\".concat(API_BASE_URL,\"/api/flyers\"),{headers:getAuthHeaders()});setFlyers(response.data);}catch(error){var _error$response,_error$response2;if(((_error$response=error.response)===null||_error$response===void 0?void 0:_error$response.status)===401||((_error$response2=error.response)===null||_error$response2===void 0?void 0:_error$response2.status)===403){logout();return;}setError('Failed to fetch flyers');}finally{setLoading(false);}},[API_BASE_URL,getAuthHeaders,logout]);const fetchProducts=useCallback(async()=>{try{const response=await axios.get(\"\".concat(API_BASE_URL,\"/api/products\"),{headers:getAuthHeaders()});setProducts(response.data);}catch(error){var _error$response3,_error$response4;if(((_error$response3=error.response)===null||_error$response3===void 0?void 0:_error$response3.status)===401||((_error$response4=error.response)===null||_error$response4===void 0?void 0:_error$response4.status)===403){logout();return;}console.error('Failed to fetch products:',error);}},[API_BASE_URL,getAuthHeaders,logout]);useEffect(()=>{fetchFlyers();fetchProducts();},[fetchFlyers,fetchProducts]);const handleSubmit=async e=>{e.preventDefault();setError('');const flyerData=_objectSpread(_objectSpread({},formData),{},{products:selectedProducts});try{if(editingFlyer){await axios.put(\"\".concat(API_BASE_URL,\"/api/flyers/\").concat(editingFlyer._id),flyerData,{headers:getAuthHeaders()});}else{await axios.post(\"\".concat(API_BASE_URL,\"/api/flyers\"),flyerData,{headers:getAuthHeaders()});}fetchFlyers();resetForm();}catch(error){var _error$response5,_error$response6,_error$response7,_error$response7$data;if(((_error$response5=error.response)===null||_error$response5===void 0?void 0:_error$response5.status)===401||((_error$response6=error.response)===null||_error$response6===void 0?void 0:_error$response6.status)===403){logout();return;}setError(((_error$response7=error.response)===null||_error$response7===void 0?void 0:(_error$response7$data=_error$response7.data)===null||_error$response7$data===void 0?void 0:_error$response7$data.message)||'Failed to save flyer');}};const handleDelete=async id=>{if(!window.confirm('האם אתה בטוח שברצונך למחוק את הפליירי?'))return;try{await axios.delete(\"\".concat(API_BASE_URL,\"/api/flyers/\").concat(id),{headers:getAuthHeaders()});fetchFlyers();}catch(error){var _error$response8,_error$response9;if(((_error$response8=error.response)===null||_error$response8===void 0?void 0:_error$response8.status)===401||((_error$response9=error.response)===null||_error$response9===void 0?void 0:_error$response9.status)===403){logout();return;}setError('Failed to delete flyer');}};const handleDuplicate=async id=>{try{await axios.post(\"\".concat(API_BASE_URL,\"/api/flyers/\").concat(id,\"/duplicate\"),{},{headers:getAuthHeaders()});fetchFlyers();}catch(error){var _error$response0,_error$response1;if(((_error$response0=error.response)===null||_error$response0===void 0?void 0:_error$response0.status)===401||((_error$response1=error.response)===null||_error$response1===void 0?void 0:_error$response1.status)===403){logout();return;}setError('Failed to duplicate flyer');}};const handleEdit=flyer=>{setEditingFlyer(flyer);setFormData({title:flyer.title,description:flyer.description,template:flyer.template,layout:flyer.layout,colors:flyer.colors,fonts:flyer.fonts});setSelectedProducts(flyer.products.map(p=>p.productId));setShowForm(true);};const resetForm=()=>{setFormData({title:'',description:'',template:'template1',layout:'grid',colors:{primary:'#007bff',secondary:'#28a745'},fonts:{title:'Arial',body:'Arial'}});setSelectedProducts([]);setEditingFlyer(null);setShowForm(false);};const handleChange=e=>{setFormData(_objectSpread(_objectSpread({},formData),{},{[e.target.name]:e.target.value}));};const handleProductToggle=productId=>{setSelectedProducts(prev=>prev.includes(productId)?prev.filter(id=>id!==productId):[...prev,productId]);};if(loading)return/*#__PURE__*/_jsx(\"div\",{children:\"Loading...\"});return/*#__PURE__*/_jsxs(\"div\",{className:\"flyers-container\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flyers-header\",children:[/*#__PURE__*/_jsx(\"h1\",{children:\"\\u05E4\\u05DC\\u05D9\\u05D9\\u05E8\\u05D9\\u05DD\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"user-info\",children:[/*#__PURE__*/_jsxs(\"span\",{children:[\"\\u05E9\\u05DC\\u05D5\\u05DD, \",user===null||user===void 0?void 0:user.firstName]}),/*#__PURE__*/_jsx(\"button\",{onClick:logout,className:\"logout-btn\",children:\"\\u05D4\\u05EA\\u05E0\\u05EA\\u05E7\\u05D5\\u05EA\"})]})]}),error&&/*#__PURE__*/_jsx(\"div\",{className:\"error-message\",children:error}),/*#__PURE__*/_jsx(\"div\",{className:\"flyers-actions\",children:/*#__PURE__*/_jsx(\"button\",{onClick:()=>setShowForm(!showForm),className:\"add-btn\",children:showForm?'בטל':'צור פליירי'})}),showForm&&/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit,className:\"flyer-form\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"\\u05DB\\u05D5\\u05EA\\u05E8\\u05EA \\u05D4\\u05E4\\u05DC\\u05D9\\u05D9\\u05E8\\u05D9\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"title\",value:formData.title,onChange:handleChange,required:true})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"\\u05EA\\u05D9\\u05D0\\u05D5\\u05E8\"}),/*#__PURE__*/_jsx(\"textarea\",{name:\"description\",value:formData.description,onChange:handleChange,rows:\"3\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-row\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"\\u05EA\\u05D1\\u05E0\\u05D9\\u05EA\"}),/*#__PURE__*/_jsxs(\"select\",{name:\"template\",value:formData.template,onChange:handleChange,children:[/*#__PURE__*/_jsx(\"option\",{value:\"template1\",children:\"\\u05EA\\u05D1\\u05E0\\u05D9\\u05EA 1\"}),/*#__PURE__*/_jsx(\"option\",{value:\"template2\",children:\"\\u05EA\\u05D1\\u05E0\\u05D9\\u05EA 2\"}),/*#__PURE__*/_jsx(\"option\",{value:\"template3\",children:\"\\u05EA\\u05D1\\u05E0\\u05D9\\u05EA 3\"}),/*#__PURE__*/_jsx(\"option\",{value:\"template4\",children:\"\\u05EA\\u05D1\\u05E0\\u05D9\\u05EA 4\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"\\u05E4\\u05E8\\u05D9\\u05E1\\u05D4\"}),/*#__PURE__*/_jsxs(\"select\",{name:\"layout\",value:formData.layout,onChange:handleChange,children:[/*#__PURE__*/_jsx(\"option\",{value:\"grid\",children:\"\\u05E8\\u05E9\\u05EA\"}),/*#__PURE__*/_jsx(\"option\",{value:\"list\",children:\"\\u05E8\\u05E9\\u05D9\\u05DE\\u05D4\"}),/*#__PURE__*/_jsx(\"option\",{value:\"cards\",children:\"\\u05DB\\u05E8\\u05D8\\u05D9\\u05E1\\u05D9\\u05DD\"})]})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"\\u05D1\\u05D7\\u05E8 \\u05DE\\u05D5\\u05E6\\u05E8\\u05D9\\u05DD\"}),/*#__PURE__*/_jsx(\"div\",{className:\"products-selector\",children:products.map(product=>/*#__PURE__*/_jsxs(\"div\",{className:\"product-checkbox\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"checkbox\",id:product._id,checked:selectedProducts.includes(product._id),onChange:()=>handleProductToggle(product._id)}),/*#__PURE__*/_jsxs(\"label\",{htmlFor:product._id,children:[product.name,\" - \\u20AA\",product.price]})]},product._id))})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-actions\",children:[/*#__PURE__*/_jsx(\"button\",{type:\"submit\",children:editingFlyer?'עדכן':'צור'}),/*#__PURE__*/_jsx(\"button\",{type:\"button\",onClick:resetForm,children:\"\\u05D1\\u05D8\\u05DC\"})]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"flyers-grid\",children:flyers.map(flyer=>/*#__PURE__*/_jsxs(\"div\",{className:\"flyer-card\",children:[/*#__PURE__*/_jsx(\"h3\",{children:flyer.title}),flyer.description&&/*#__PURE__*/_jsx(\"p\",{className:\"description\",children:flyer.description}),/*#__PURE__*/_jsxs(\"p\",{className:\"template\",children:[\"\\u05EA\\u05D1\\u05E0\\u05D9\\u05EA: \",flyer.template]}),/*#__PURE__*/_jsxs(\"p\",{className:\"products-count\",children:[\"\\u05DE\\u05D5\\u05E6\\u05E8\\u05D9\\u05DD: \",flyer.products.length]}),/*#__PURE__*/_jsxs(\"div\",{className:\"products-list\",children:[flyer.products.slice(0,3).map(product=>/*#__PURE__*/_jsx(\"span\",{className:\"product-tag\",children:product.name},product.productId)),flyer.products.length>3&&/*#__PURE__*/_jsxs(\"span\",{className:\"more-products\",children:[\"+\",flyer.products.length-3,\" \\u05E2\\u05D5\\u05D3\"]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flyer-actions\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:()=>handleEdit(flyer),children:\"\\u05E2\\u05E8\\u05D9\\u05DB\\u05D4\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>handleDuplicate(flyer._id),children:\"\\u05E9\\u05DB\\u05E4\\u05D5\\u05DC\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>handleDelete(flyer._id),children:\"\\u05DE\\u05D7\\u05D9\\u05E7\\u05D4\"})]})]},flyer._id))}),flyers.length===0&&/*#__PURE__*/_jsx(\"div\",{className:\"empty-state\",children:/*#__PURE__*/_jsx(\"p\",{children:\"\\u05D0\\u05D9\\u05DF \\u05E4\\u05DC\\u05D9\\u05D9\\u05E8\\u05D9\\u05DD \\u05E2\\u05D3\\u05D9\\u05D9\\u05DF. \\u05E6\\u05D5\\u05E8 \\u05D0\\u05EA \\u05D4\\u05E4\\u05DC\\u05D9\\u05D9\\u05E8\\u05D9 \\u05D4\\u05E8\\u05D0\\u05E9\\u05D5\\u05DF \\u05E9\\u05DC\\u05DA!\"})})]});};export default Flyers;","map":{"version":3,"names":["React","useState","useEffect","useCallback","useAuth","axios","jsx","_jsx","jsxs","_jsxs","Flyers","flyers","setFlyers","products","setProducts","loading","setLoading","error","setError","showForm","setShowForm","editingFlyer","setEditingFlyer","selectedProducts","setSelectedProducts","formData","setFormData","title","description","template","layout","colors","primary","secondary","fonts","body","user","logout","API_BASE_URL","process","env","REACT_APP_API_URL","getAuthHeaders","Authorization","concat","localStorage","getItem","fetchFlyers","response","get","headers","data","_error$response","_error$response2","status","fetchProducts","_error$response3","_error$response4","console","handleSubmit","e","preventDefault","flyerData","_objectSpread","put","_id","post","resetForm","_error$response5","_error$response6","_error$response7","_error$response7$data","message","handleDelete","id","window","confirm","delete","_error$response8","_error$response9","handleDuplicate","_error$response0","_error$response1","handleEdit","flyer","map","p","productId","handleChange","target","name","value","handleProductToggle","prev","includes","filter","children","className","firstName","onClick","onSubmit","type","onChange","required","rows","product","checked","htmlFor","price","length","slice"],"sources":["/home/ubuntu/b1-flyer-sofi-frontend/src/pages/Flyers.js"],"sourcesContent":["import React, { useState, useEffect, useCallback } from 'react';\nimport { useAuth } from '../contexts/AuthContext';\nimport axios from 'axios';\n\nconst Flyers = () => {\n  const [flyers, setFlyers] = useState([]);\n  const [products, setProducts] = useState([]);\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState('');\n  const [showForm, setShowForm] = useState(false);\n  const [editingFlyer, setEditingFlyer] = useState(null);\n  const [selectedProducts, setSelectedProducts] = useState([]);\n  const [formData, setFormData] = useState({\n    title: '',\n    description: '',\n    template: 'template1',\n    layout: 'grid',\n    colors: { primary: '#007bff', secondary: '#28a745' },\n    fonts: { title: 'Arial', body: 'Arial' }\n  });\n\n  const { user, logout } = useAuth();\n  const API_BASE_URL = process.env.REACT_APP_API_URL || 'http://localhost:3001';\n\n  const getAuthHeaders = useCallback(() => ({\n    Authorization: `Bearer ${localStorage.getItem('token')}`\n  }), []);\n\n  const fetchFlyers = useCallback(async () => {\n    try {\n      const response = await axios.get(`${API_BASE_URL}/api/flyers`, {\n        headers: getAuthHeaders()\n      });\n      setFlyers(response.data);\n    } catch (error) {\n      if (error.response?.status === 401 || error.response?.status === 403) {\n        logout();\n        return;\n      }\n      setError('Failed to fetch flyers');\n    } finally {\n      setLoading(false);\n    }\n  }, [API_BASE_URL, getAuthHeaders, logout]);\n\n  const fetchProducts = useCallback(async () => {\n    try {\n      const response = await axios.get(`${API_BASE_URL}/api/products`, {\n        headers: getAuthHeaders()\n      });\n      setProducts(response.data);\n    } catch (error) {\n      if (error.response?.status === 401 || error.response?.status === 403) {\n        logout();\n        return;\n      }\n      console.error('Failed to fetch products:', error);\n    }\n  }, [API_BASE_URL, getAuthHeaders, logout]);\n\n  useEffect(() => {\n    fetchFlyers();\n    fetchProducts();\n  }, [fetchFlyers, fetchProducts]);\n\n  const handleSubmit = async (e) => {\n    e.preventDefault();\n    setError('');\n\n    const flyerData = {\n      ...formData,\n      products: selectedProducts\n    };\n\n    try {\n      if (editingFlyer) {\n        await axios.put(`${API_BASE_URL}/api/flyers/${editingFlyer._id}`, flyerData, {\n          headers: getAuthHeaders()\n        });\n      } else {\n        await axios.post(`${API_BASE_URL}/api/flyers`, flyerData, {\n          headers: getAuthHeaders()\n        });\n      }\n      \n      fetchFlyers();\n      resetForm();\n    } catch (error) {\n      if (error.response?.status === 401 || error.response?.status === 403) {\n        logout();\n        return;\n      }\n      setError(error.response?.data?.message || 'Failed to save flyer');\n    }\n  };\n\n  const handleDelete = async (id) => {\n    if (!window.confirm('האם אתה בטוח שברצונך למחוק את הפליירי?')) return;\n\n    try {\n      await axios.delete(`${API_BASE_URL}/api/flyers/${id}`, {\n        headers: getAuthHeaders()\n      });\n      fetchFlyers();\n    } catch (error) {\n      if (error.response?.status === 401 || error.response?.status === 403) {\n        logout();\n        return;\n      }\n      setError('Failed to delete flyer');\n    }\n  };\n\n  const handleDuplicate = async (id) => {\n    try {\n      await axios.post(`${API_BASE_URL}/api/flyers/${id}/duplicate`, {}, {\n        headers: getAuthHeaders()\n      });\n      fetchFlyers();\n    } catch (error) {\n      if (error.response?.status === 401 || error.response?.status === 403) {\n        logout();\n        return;\n      }\n      setError('Failed to duplicate flyer');\n    }\n  };\n\n  const handleEdit = (flyer) => {\n    setEditingFlyer(flyer);\n    setFormData({\n      title: flyer.title,\n      description: flyer.description,\n      template: flyer.template,\n      layout: flyer.layout,\n      colors: flyer.colors,\n      fonts: flyer.fonts\n    });\n    setSelectedProducts(flyer.products.map(p => p.productId));\n    setShowForm(true);\n  };\n\n  const resetForm = () => {\n    setFormData({\n      title: '',\n      description: '',\n      template: 'template1',\n      layout: 'grid',\n      colors: { primary: '#007bff', secondary: '#28a745' },\n      fonts: { title: 'Arial', body: 'Arial' }\n    });\n    setSelectedProducts([]);\n    setEditingFlyer(null);\n    setShowForm(false);\n  };\n\n  const handleChange = (e) => {\n    setFormData({\n      ...formData,\n      [e.target.name]: e.target.value\n    });\n  };\n\n  const handleProductToggle = (productId) => {\n    setSelectedProducts(prev => \n      prev.includes(productId)\n        ? prev.filter(id => id !== productId)\n        : [...prev, productId]\n    );\n  };\n\n  if (loading) return <div>Loading...</div>;\n\n  return (\n    <div className=\"flyers-container\">\n      <div className=\"flyers-header\">\n        <h1>פליירים</h1>\n        <div className=\"user-info\">\n          <span>שלום, {user?.firstName}</span>\n          <button onClick={logout} className=\"logout-btn\">התנתקות</button>\n        </div>\n      </div>\n\n      {error && <div className=\"error-message\">{error}</div>}\n\n      <div className=\"flyers-actions\">\n        <button \n          onClick={() => setShowForm(!showForm)}\n          className=\"add-btn\"\n        >\n          {showForm ? 'בטל' : 'צור פליירי'}\n        </button>\n      </div>\n\n      {showForm && (\n        <form onSubmit={handleSubmit} className=\"flyer-form\">\n          <div className=\"form-group\">\n            <label>כותרת הפליירי</label>\n            <input\n              type=\"text\"\n              name=\"title\"\n              value={formData.title}\n              onChange={handleChange}\n              required\n            />\n          </div>\n          \n          <div className=\"form-group\">\n            <label>תיאור</label>\n            <textarea\n              name=\"description\"\n              value={formData.description}\n              onChange={handleChange}\n              rows=\"3\"\n            />\n          </div>\n\n          <div className=\"form-row\">\n            <div className=\"form-group\">\n              <label>תבנית</label>\n              <select\n                name=\"template\"\n                value={formData.template}\n                onChange={handleChange}\n              >\n                <option value=\"template1\">תבנית 1</option>\n                <option value=\"template2\">תבנית 2</option>\n                <option value=\"template3\">תבנית 3</option>\n                <option value=\"template4\">תבנית 4</option>\n              </select>\n            </div>\n            <div className=\"form-group\">\n              <label>פריסה</label>\n              <select\n                name=\"layout\"\n                value={formData.layout}\n                onChange={handleChange}\n              >\n                <option value=\"grid\">רשת</option>\n                <option value=\"list\">רשימה</option>\n                <option value=\"cards\">כרטיסים</option>\n              </select>\n            </div>\n          </div>\n\n          <div className=\"form-group\">\n            <label>בחר מוצרים</label>\n            <div className=\"products-selector\">\n              {products.map(product => (\n                <div key={product._id} className=\"product-checkbox\">\n                  <input\n                    type=\"checkbox\"\n                    id={product._id}\n                    checked={selectedProducts.includes(product._id)}\n                    onChange={() => handleProductToggle(product._id)}\n                  />\n                  <label htmlFor={product._id}>\n                    {product.name} - ₪{product.price}\n                  </label>\n                </div>\n              ))}\n            </div>\n          </div>\n\n          <div className=\"form-actions\">\n            <button type=\"submit\">\n              {editingFlyer ? 'עדכן' : 'צור'}\n            </button>\n            <button type=\"button\" onClick={resetForm}>\n              בטל\n            </button>\n          </div>\n        </form>\n      )}\n\n      <div className=\"flyers-grid\">\n        {flyers.map(flyer => (\n          <div key={flyer._id} className=\"flyer-card\">\n            <h3>{flyer.title}</h3>\n            {flyer.description && <p className=\"description\">{flyer.description}</p>}\n            <p className=\"template\">תבנית: {flyer.template}</p>\n            <p className=\"products-count\">מוצרים: {flyer.products.length}</p>\n            <div className=\"products-list\">\n              {flyer.products.slice(0, 3).map(product => (\n                <span key={product.productId} className=\"product-tag\">\n                  {product.name}\n                </span>\n              ))}\n              {flyer.products.length > 3 && (\n                <span className=\"more-products\">+{flyer.products.length - 3} עוד</span>\n              )}\n            </div>\n            <div className=\"flyer-actions\">\n              <button onClick={() => handleEdit(flyer)}>עריכה</button>\n              <button onClick={() => handleDuplicate(flyer._id)}>שכפול</button>\n              <button onClick={() => handleDelete(flyer._id)}>מחיקה</button>\n            </div>\n          </div>\n        ))}\n      </div>\n\n      {flyers.length === 0 && (\n        <div className=\"empty-state\">\n          <p>אין פליירים עדיין. צור את הפליירי הראשון שלך!</p>\n        </div>\n      )}\n    </div>\n  );\n};\n\nexport default Flyers;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}